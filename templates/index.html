<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Card Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#"><i class="fas fa-baseball-ball me-2"></i>Sports Card Tracker</a>
            <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#addCardModal">
                <i class="fas fa-plus me-2"></i>Add Card
            </button>
        </div>
    </nav>

    <div class="container mt-4">
        <!-- Search Filters Section -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card search-card">
                    <div class="card-header">
                        <h5 class="card-title mb-0"><i class="fas fa-search me-2"></i>Search & Filter Cards</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label for="searchPlayer" class="form-label">Player Name</label>
                                <input type="text" class="form-control" id="searchPlayer" placeholder="Search by player...">
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="searchSport" class="form-label">Sport</label>
                                <select class="form-control" id="searchSport">
                                    <option value="all">All Sports</option>
                                    <option value="Basketball">Basketball</option>
                                    <option value="Football">Football</option>
                                    <option value="Baseball">Baseball</option>
                                    <option value="Hockey">Hockey</option>
                                    <option value="Soccer">Soccer</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="searchVariant" class="form-label">Card Variant</label>
                                <select class="form-control" id="searchVariant">
                                    <option value="all">All Variants</option>
                                    <option value="Base">Base</option>
                                    <option value="Rookie">Rookie</option>
                                    <option value="Refractor">Refractor</option>
                                    <option value="Prizm">Prizm</option>
                                    <option value="Silver Prizm">Silver Prizm</option>
                                    <option value="Autograph">Autograph</option>
                                    <option value="Rookie Ticket Autograph">Rookie Ticket Autograph</option>
                                </select>
                            </div>
                            <div class="col-md-3 mb-3">
                                <label for="searchGradingService" class="form-label">Grading Service</label>
                                <select class="form-control" id="searchGradingService">
                                    <option value="all">All Services</option>
                                    <option value="PSA">PSA</option>
                                    <option value="BGS">BGS (Beckett)</option>
                                    <option value="SGC">SGC</option>
                                    <option value="HGA">HGA</option>
                                    <option value="CSG">CSG</option>
                                    <option value="Ungraded">Ungraded</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 mb-3">
                                <label for="searchGrade" class="form-label">Grade</label>
                                <select class="form-control" id="searchGrade">
                                    <option value="all">All Grades</option>
                                    <option value="10">10 (Gem Mint)</option>
                                    <option value="9.5">9.5 (Mint+)</option>
                                    <option value="9">9 (Mint)</option>
                                    <option value="8.5">8.5 (NM-MT+)</option>
                                    <option value="8">8 (Near Mint-Mint)</option>
                                    <option value="7.5">7.5 (NM+)</option>
                                    <option value="7">7 (Near Mint)</option>
                                    <option value="6">6 (Excellent-Mint)</option>
                                    <option value="5">5 (Excellent)</option>
                                    <option value="N/A">N/A (Ungraded)</option>
                                </select>
                            </div>
                            <div class="col-md-9 mb-3 d-flex align-items-end">
                                <button type="button" class="btn btn-primary me-2" onclick="searchCards()">
                                    <i class="fas fa-search me-1"></i>Search
                                </button>
                                <button type="button" class="btn btn-secondary" onclick="clearSearch()">
                                    <i class="fas fa-times me-1"></i>Clear
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5 class="card-title mb-0"><i class="fas fa-list me-2"></i>Sports Cards Collection</h5>
                        <span id="cardCount" class="badge bg-primary">0 cards</span>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Player</th>
                                        <th>Set</th>
                                        <th>Year</th>
                                        <th>Card #</th>
                                        <th>Sport</th>
                                        <th>Variant</th>
                                        <th>Grading</th>
                                        <th>Condition</th>
                                        <th>Last Sale</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="cardsTableBody">
                                    <!-- Cards will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Card Modal -->
    <div class="modal fade" id="addCardModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add New Sports Card</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addCardForm">
                        <div class="mb-3">
                            <label for="playerName" class="form-label">Player Name</label>
                            <input type="text" class="form-control" id="playerName" required>
                        </div>
                        <div class="mb-3">
                            <label for="cardSet" class="form-label">Card Set</label>
                            <input type="text" class="form-control" id="cardSet" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="year" class="form-label">Year</label>
                                    <input type="number" class="form-control" id="year" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="cardNumber" class="form-label">Card Number</label>
                                    <input type="text" class="form-control" id="cardNumber" required>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="sport" class="form-label">Sport</label>
                                    <select class="form-control" id="sport" required>
                                        <option value="">Select Sport</option>
                                        <option value="Basketball">Basketball</option>
                                        <option value="Football">Football</option>
                                        <option value="Baseball">Baseball</option>
                                        <option value="Hockey">Hockey</option>
                                        <option value="Soccer">Soccer</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="condition" class="form-label">Condition</label>
                                    <select class="form-control" id="condition" required>
                                        <option value="">Select Condition</option>
                                        <option value="Mint">Mint</option>
                                        <option value="Near Mint">Near Mint</option>
                                        <option value="Excellent">Excellent</option>
                                        <option value="Very Good">Very Good</option>
                                        <option value="Good">Good</option>
                                        <option value="Fair">Fair</option>
                                        <option value="Poor">Poor</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="cardVariant" class="form-label">Card Variant</label>
                                    <select class="form-control" id="cardVariant" required>
                                        <option value="Base">Base</option>
                                        <option value="Rookie">Rookie</option>
                                        <option value="Refractor">Refractor</option>
                                        <option value="Prizm">Prizm</option>
                                        <option value="Silver Prizm">Silver Prizm</option>
                                        <option value="Gold Prizm">Gold Prizm</option>
                                        <option value="Rainbow Prizm">Rainbow Prizm</option>
                                        <option value="Autograph">Autograph</option>
                                        <option value="Rookie Ticket Autograph">Rookie Ticket Autograph</option>
                                        <option value="Jersey">Jersey</option>
                                        <option value="Patch">Patch</option>
                                        <option value="One of One">One of One</option>
                                        <option value="Serial Numbered">Serial Numbered</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="gradingService" class="form-label">Grading Service</label>
                                    <select class="form-control" id="gradingService" required>
                                        <option value="Ungraded">Ungraded</option>
                                        <option value="PSA">PSA</option>
                                        <option value="BGS">BGS (Beckett)</option>
                                        <option value="SGC">SGC</option>
                                        <option value="HGA">HGA</option>
                                        <option value="CSG">CSG</option>
                                        <option value="JSA">JSA</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="grade" class="form-label">Grade</label>
                                    <select class="form-control" id="grade" required>
                                        <option value="N/A">N/A (Ungraded)</option>
                                        <option value="10">10 (Gem Mint)</option>
                                        <option value="9.5">9.5 (Mint+)</option>
                                        <option value="9">9 (Mint)</option>
                                        <option value="8.5">8.5 (NM-MT+)</option>
                                        <option value="8">8 (Near Mint-Mint)</option>
                                        <option value="7.5">7.5 (NM+)</option>
                                        <option value="7">7 (Near Mint)</option>
                                        <option value="6.5">6.5 (EX-NM+)</option>
                                        <option value="6">6 (Excellent-Mint)</option>
                                        <option value="5.5">5.5 (EX+)</option>
                                        <option value="5">5 (Excellent)</option>
                                        <option value="4">4 (Very Good-Excellent)</option>
                                        <option value="3">3 (Very Good)</option>
                                        <option value="2">2 (Good)</option>
                                        <option value="1">1 (Poor-Fair)</option>
                                        <option value="A">A (Authentic)</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="description" class="form-label">Description</label>
                            <textarea class="form-control" id="description" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addCard()">Add Card</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Sale Modal -->
    <div class="modal fade" id="addSaleModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Add Sale Record</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="addSaleForm">
                        <input type="hidden" id="saleCardId">
                        <div class="mb-3">
                            <label for="salePrice" class="form-label">Sale Price ($)</label>
                            <input type="number" step="0.01" class="form-control" id="salePrice" required>
                        </div>
                        <div class="mb-3">
                            <label for="platform" class="form-label">Platform</label>
                            <select class="form-control" id="platform" required>
                                <option value="">Select Platform</option>
                                <option value="eBay">eBay</option>
                                <option value="PWCC">PWCC</option>
                                <option value="Heritage Auctions">Heritage Auctions</option>
                                <option value="COMC">COMC</option>
                                <option value="Private Sale">Private Sale</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="saleDate" class="form-label">Sale Date</label>
                            <input type="date" class="form-control" id="saleDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="buyerInfo" class="form-label">Buyer Info (Optional)</label>
                            <input type="text" class="form-control" id="buyerInfo">
                        </div>
                        <div class="mb-3">
                            <label for="sellerInfo" class="form-label">Seller Info (Optional)</label>
                            <input type="text" class="form-control" id="sellerInfo">
                        </div>
                        <div class="mb-3">
                            <label for="saleNotes" class="form-label">Notes</label>
                            <textarea class="form-control" id="saleNotes" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="addSale()">Add Sale</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sales History Modal -->
    <div class="modal fade" id="salesHistoryModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Sales History</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div id="salesHistoryContent">
                        <!-- Sales history will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>